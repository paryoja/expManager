{% load staticfiles %}
<link rel="stylesheet" type="text/css" href="{% static 'projectManager/css/base.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'projectManager/css/dashboard.css' %}"/>

<link rel="stylesheet" type="text/css" href="{% static 'projectManager/css/style.css' %}"/>

<h1>Dataset: {{ dataset.name }} </h1>

Is synthetic: {{ dataset.is_synthetic }}

{% if dataset.is_synthetic %}
<br/>
Synthetic parameters:

<table>
{% for attribute, value in dataset.parameterToList %}
<tr>
	<td align="left">{{ attribute }}</td>
	<td align="right">{{ value }}</td>
<tr>
{% endfor %}
</table>

{% endif %}

<h2>Averaged Result</h2>
{% if avg_alg_list %}
<table>
	<tr>
		<td>Algorithm</td>
		<td>Server</td>
        {% for param in param_filter %}
		<td>{{ param }}</td>
		{% endfor %}
		{% for result in result_filter %}
		<td>{{ result }}</td>
		{% endfor %}
	</tr>

	{% for alg, exp in avg_alg_list %}
	<tr>
		<td>{{ alg.0.0.name }}</td>
		<td>{{ alg.0.1.server_name }}</td>
		{% for value in alg.1 %}
		<td>{{ value | floatformat }}</td>
		{% endfor %}
		
		{% for value in exp %}
		<td>{{ value | floatformat }}</td>
		{% endfor %}
	</tr>
	{% endfor %}
</table>

{% endif %}


<h2>Experiments</h2>

{% if dataset.expitem_set.all %}
<table>
    <tr>
        <td>Date</td>
		<td>Server</td>
        <td>Algorithm</td>
        {% for param in dataset.project.getParamFilter %}
        <td>{{ param }}</td>
        {% endfor %}
        {% for param in dataset.project.getResultFilter %}
        <td>{{ param }}</td>
        {% endfor %}
        <td>View details</td>
    </tr>

    {% for exp in dataset.expitem_set.all %}
    <tr>
        <td>{{ exp }}</td>
		<td>{{ exp.server.server_name }}</td>
		<td><a href="{% url 'project:algorithmDetail' exp.project.id exp.algorithm.id %}">{{ exp.algorithm.name }}</a></td>
        {% for value in exp.toParamValueList %}
        <td>{{ value | floatformat }}</td>
        {% endfor %}
        {% for value in exp.toResultValueList %}
        <td>{{ value | floatformat }}</td>
        {% endfor %}
        <td><a href="{% url 'project:expDetail' exp.id %}">detail</a></td>
    </tr>
    {% endfor %}
</table>
{% endif %}

<center><a href="{% url 'project:exp' dataset.project.id %}">To experiments</a></center>
<center><a href="{% url 'project:index' %}">To main menu</a></center>
